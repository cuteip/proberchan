dns_resolver: "192.0.2.1:53"

probes:
  - name: "ping_v4"
    type: "ping"
    netns: "tenant-blue"
    ping:
      targets:
        - host: "host1.example"
          description: "Primary web server"
        - host: "host2.example"
      interval_ms: 500
      timeout_ms: 1000
      df: false
      src: eth0
      resolve_ip_versions: [4]

  - name: "http_example"
    type: "http"
    netns: "tenant-blue"
    http:
      targets:
        - url: "http://host1.example/health"
          description: "Health check endpoint"
        - url: "http://host2.example:8080/ping"
      interval_ms: 1000
      timeout_ms: 5000
      resolve_ip_versions: [4, 6]
      user_agent: "proberchan (+https://github.com/cuteip/proberchan)"

  - name: "dns_authoritative"
    type: "dns"
    # netns is optional; when omitted the host namespace will be used.
    dns:
      targets:
        - server: udp://192.0.2.1
          qname: test.example
          qtype: soa
          description: "Authoritative UDP query"

        - server: tcp://192.0.2.1
          qname: test.example
          qtype: soa

        - server: tcp://ns1.example
          qname: test.example
          qtype: soa
      interval_ms: 500
      timeout_ms: 1000
      resolve_ip_versions: [4, 6]
      flag_rd: false

  - name: "dns_recursive"
    type: "dns"
    dns:
      targets:
        - server: udp://192.0.2.1
          qname: test.example
          qtype: a
          description: "Recursive UDP query"

        - server: tcp://192.0.2.1
          qname: test.example
          qtype: a

        - server: tcp://resolver1.example
          qname: test.example
          qtype: txt
      interval_ms: 500
      timeout_ms: 1000
      resolve_ip_versions: [4, 6]
      flag_rd: true
